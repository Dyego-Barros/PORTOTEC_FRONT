{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabut\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\FRONT_END PORTO_TEC\\\\src\\\\views\\\\pages\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // react-bootstrap components\n\nimport { Badge, Button, Card, Form, Navbar, Nav, Container, Row, Col } from \"react-bootstrap\";\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const mySwal = withReactContent(Swal); //Constantes que recembem email e senhas do formulario\n\n  const [userName, setUserName] = useState();\n  const [password, setPassword] = useState(); //Objeto JSON que compoe Body da request \n\n  const _data = {\n    \"email_user\": userName,\n    \"password\": password\n  };\n  const data2 = JSON.stringify(_data); //Constante que faz a navegação entre as páginas staticas\n\n  const navigate = useHistory(); //Função recebe dados da request e verica se o token é valido ou não\n\n  function showData(result) {\n    if (result.token !== undefined) {\n      localStorage.setItem(\"token\", result.token);\n      navigate.push(\"/admin/dashboard\");\n    } else {\n      navigate.push(\"/\");\n    }\n  } // Opções que compoe a resquest \n\n\n  const option = {\n    method: 'POST',\n    mode: 'cors',\n    cache: 'default',\n    body: data2,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }; //Função que raliza a resquest pro servidor e retorna as promises\n\n  function fazerLogin(e) {\n    fetch('http://localhost:5000/user/login', option).then(response => response.json()).then(data => {\n      showData(data);\n    }).catch(error => {\n      const Toast = mySwal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 5000,\n        timerProgressBar: true,\n        didOpen: toast => {\n          toast.addEventListener('mouseenter', Swal.stopTimer);\n          toast.addEventListener('mouseleave', Swal.resumeTimer);\n        }\n      });\n      Toast.fire({\n        icon: 'error',\n        title: 'E-mail ou Senha inválidos!'\n      });\n    });\n    e.preventDefault();\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            id: \"card-login\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              id: \"card-login-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"PORTO-TEC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"form-group\",\n                method: \"POST\",\n                onSubmit: fazerLogin,\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"for-control\",\n                  children: \"E-mail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  placeholder: \"Email@usuario.com\",\n                  onChange: e => setUserName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"for-control\",\n                  children: \"Senha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"Digite a senha\",\n                  onChange: e => setPassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  className: \"btn btn-block btn-success\",\n                  id: \"btn-login\",\n                  value: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"yOu+mQMI/w6BOgrTMwlkHVNbqB8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Badge","Button","Card","Form","Navbar","Nav","Container","Row","Col","useState","useEffect","useHistory","Swal","withReactContent","Login","mySwal","userName","setUserName","password","setPassword","_data","data2","JSON","stringify","navigate","showData","result","token","undefined","localStorage","setItem","push","option","method","mode","cache","body","headers","fazerLogin","e","fetch","then","response","json","data","catch","error","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","preventDefault","target","value"],"sources":["C:/Users/gabut/OneDrive/Área de Trabalho/FRONT_END PORTO_TEC/src/views/pages/Login/Login.js"],"sourcesContent":["import React from \"react\";\r\n\r\n// react-bootstrap components\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Card,\r\n  Form,\r\n  Navbar,\r\n  Nav,\r\n  Container,\r\n  Row,\r\n  Col\r\n} from \"react-bootstrap\";\r\n\r\nimport {useState, useEffect } from 'react';\r\nimport {useHistory} from'react-router-dom'\r\n\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\nfunction Login(){\r\n\r\n    \r\n    const mySwal = withReactContent(Swal);\r\n//Constantes que recembem email e senhas do formulario\r\n    const  [userName, setUserName] = useState()\r\n    const  [password, setPassword] = useState();\r\n\r\n //Objeto JSON que compoe Body da request \r\n    const _data = {\r\n        \"email_user\":userName, \r\n        \"password\": password\r\n    }\r\n    const data2 = JSON.stringify(_data);\r\n\r\n\r\n   //Constante que faz a navegação entre as páginas staticas\r\n    const navigate = useHistory();\r\n\r\n//Função recebe dados da request e verica se o token é valido ou não\r\n    function showData(result){\r\n   \r\n   \r\n         if(result.token !== undefined){\r\n           localStorage.setItem(\"token\",result.token);\r\n            navigate.push(\"/admin/dashboard\");\r\n         }else{\r\n            navigate.push(\"/\");\r\n         }\r\n    }\r\n\r\n// Opções que compoe a resquest \r\n  const option={\r\n    method: 'POST', \r\n    mode: 'cors',\r\n    cache: 'default',\r\n    body: data2,\r\n    headers:{'Content-Type': 'application/json'},  \r\n }\r\n\r\n    //Função que raliza a resquest pro servidor e retorna as promises\r\n  function fazerLogin(e){\r\n     fetch('http://localhost:5000/user/login', option)\r\n         .then( response=>response.json())\r\n         .then(data =>{\r\n          showData(data);          \r\n        })\r\n         .catch((error)=>{\r\n            const Toast = mySwal.mixin({\r\n                toast: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n                timerProgressBar: true,\r\n                didOpen: (toast) => {\r\n                  toast.addEventListener('mouseenter', Swal.stopTimer)\r\n                  toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n                }\r\n              })\r\n              \r\n              Toast.fire({\r\n                icon: 'error',\r\n                title: 'E-mail ou Senha inválidos!'\r\n              })\r\n         } );\r\n       e.preventDefault();\r\n   }\r\n\r\n    return(\r\n        <>\r\n        <Container>\r\n            <Row>\r\n                <div id=\"login\">\r\n                    <div className=\"card\" id=\"card-login\">\r\n                        <div className=\"card-header\"  id=\"card-login-header\">\r\n                            <h4>PORTO-TEC</h4>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <form className=\"form-group\" method='POST' onSubmit={fazerLogin}>\r\n                                <label className=\"for-control\">E-mail</label>\r\n                                <input type=\"email\" className=\"form-control\" placeholder=\"Email@usuario.com\" onChange={(e)=>setUserName(e.target.value)} />\r\n                                <label className=\"for-control\">Senha</label>\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Digite a senha\" onChange={(e)=>setPassword(e.target.value)} />\r\n\r\n                                <input type=\"submit\" className=\"btn btn-block btn-success\" id=\"btn-login\" value=\"Login\"/>\r\n                            </form>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </Row>\r\n        </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}