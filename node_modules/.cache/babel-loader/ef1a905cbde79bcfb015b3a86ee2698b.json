{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DeleteUserProfile() {\n  _s();\n\n  const mySwal = withReactContent(Swal);\n  let token = localStorage.getItem('token');\n  const {\n    id\n  } = useParams();\n  const navigate = useHistory();\n  useEffect(() => {\n    if (!token) {\n      navigate.push(\"/\");\n    } else {\n      mySwal.fire({\n        title: 'Certeza que Deseja Excluir Este Usuário?',\n        text: \"Está Ação não pode ser Desfeita.\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Sim, deletar!'\n      }).then(result => {\n        if (result.isConfirmed) {\n          const options = {\n            method: 'DELETE',\n            mode: 'cors',\n            cache: 'default',\n            headers: {\n              'Authorization': `Bearer ${localStorage.getItem('token')}`,\n              'Content-Type': 'application/json'\n            }\n          };\n          fetch(`http://localhost:5000/user/delete/${id}`, options).then(response => {\n            if (response.ok) {\n              console.log(response);\n              let deletou = 'excluida com sucesso!';\n              localStorage.setItem('excluir', deletou);\n              navigate.push(\"/admin/user\");\n            } else if (!response.ok) {\n              let error = 'error';\n              localStorage.setItem('error', error);\n              navigate.push(\"/admin/user\");\n            }\n          });\n        } else {\n          navigate.push(\"/admin/user\");\n        }\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n\n_s(DeleteUserProfile, \"Dwjmmu7oXWj2YsvVcNMGkdPNvKk=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = DeleteUserProfile;\nexport default DeleteUserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteUserProfile\");","map":{"version":3,"names":["useEffect","useHistory","useParams","Swal","withReactContent","DeleteUserProfile","mySwal","token","localStorage","getItem","id","navigate","push","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","options","method","mode","cache","headers","fetch","response","ok","console","log","deletou","setItem","error"],"sources":["C:/Users/gabut/OneDrive/Área de Trabalho/FRONT_END PORTO_TEC/src/views/pages/users/DeleteUserProfile.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport {useHistory, useParams} from'react-router-dom';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\n\r\n\r\nfunction DeleteUserProfile(){\r\n\r\n    const mySwal = withReactContent(Swal);\r\n    let token =localStorage.getItem('token');\r\n    const {id} = useParams();\r\n    const navigate = useHistory();\r\n\r\n    useEffect(()=>{\r\n\r\n\r\n        if(!token){\r\n            navigate.push(\"/\")\r\n        }else{\r\n            mySwal.fire({\r\n                title: 'Certeza que Deseja Excluir Este Usuário?',\r\n                text: \"Está Ação não pode ser Desfeita.\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Sim, deletar!'\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    const options={\r\n                        method: 'DELETE',\r\n                        mode: 'cors',\r\n                        cache: 'default',\r\n                        headers:{\r\n                            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n                            'Content-Type': 'application/json'\r\n                        }\r\n                    }\r\n                    fetch(`http://localhost:5000/user/delete/${id}`, options)\r\n                    .then((response)=>{\r\n                        if(response.ok){\r\n                            console.log(response);\r\n                            let deletou = 'excluida com sucesso!'\r\n                            localStorage.setItem('excluir', deletou);\r\n                            navigate.push(\"/admin/user\");\r\n            \r\n                        }else if(!response.ok){\r\n                            let error = 'error';\r\n                            localStorage.setItem('error', error);\r\n                            navigate.push(\"/admin/user\");\r\n\r\n                        }\r\n\r\n                    } )\r\n                  \r\n                 \r\n                }else{\r\n                    navigate.push(\"/admin/user\");\r\n                }\r\n              })\r\n    \r\n        }\r\n      \r\n\r\n\r\n       \r\n    \r\n\r\n\r\n    },[])\r\n\r\n   \r\nreturn(\r\n    <>\r\n    </>\r\n)\r\n}\r\n\r\nexport default DeleteUserProfile;"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAAQC,UAAR,EAAoBC,SAApB,QAAmC,kBAAnC;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;;;;AAIA,SAASC,iBAAT,GAA4B;EAAA;;EAExB,MAAMC,MAAM,GAAGF,gBAAgB,CAACD,IAAD,CAA/B;EACA,IAAII,KAAK,GAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;EACA,MAAM;IAACC;EAAD,IAAOR,SAAS,EAAtB;EACA,MAAMS,QAAQ,GAAGV,UAAU,EAA3B;EAEAD,SAAS,CAAC,MAAI;IAGV,IAAG,CAACO,KAAJ,EAAU;MACNI,QAAQ,CAACC,IAAT,CAAc,GAAd;IACH,CAFD,MAEK;MACDN,MAAM,CAACO,IAAP,CAAY;QACRC,KAAK,EAAE,0CADC;QAERC,IAAI,EAAE,kCAFE;QAGRC,IAAI,EAAE,SAHE;QAIRC,gBAAgB,EAAE,IAJV;QAKRC,kBAAkB,EAAE,SALZ;QAMRC,iBAAiB,EAAE,MANX;QAORC,iBAAiB,EAAE;MAPX,CAAZ,EAQKC,IARL,CAQWC,MAAD,IAAY;QAClB,IAAIA,MAAM,CAACC,WAAX,EAAwB;UACpB,MAAMC,OAAO,GAAC;YACVC,MAAM,EAAE,QADE;YAEVC,IAAI,EAAE,MAFI;YAGVC,KAAK,EAAE,SAHG;YAIVC,OAAO,EAAC;cACJ,iBAAkB,UAASpB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B,EADrD;cAEJ,gBAAgB;YAFZ;UAJE,CAAd;UASAoB,KAAK,CAAE,qCAAoCnB,EAAG,EAAzC,EAA4Cc,OAA5C,CAAL,CACCH,IADD,CACOS,QAAD,IAAY;YACd,IAAGA,QAAQ,CAACC,EAAZ,EAAe;cACXC,OAAO,CAACC,GAAR,CAAYH,QAAZ;cACA,IAAII,OAAO,GAAG,uBAAd;cACA1B,YAAY,CAAC2B,OAAb,CAAqB,SAArB,EAAgCD,OAAhC;cACAvB,QAAQ,CAACC,IAAT,CAAc,aAAd;YAEH,CAND,MAMM,IAAG,CAACkB,QAAQ,CAACC,EAAb,EAAgB;cAClB,IAAIK,KAAK,GAAG,OAAZ;cACA5B,YAAY,CAAC2B,OAAb,CAAqB,OAArB,EAA8BC,KAA9B;cACAzB,QAAQ,CAACC,IAAT,CAAc,aAAd;YAEH;UAEJ,CAfD;QAkBH,CA5BD,MA4BK;UACDD,QAAQ,CAACC,IAAT,CAAc,aAAd;QACH;MACF,CAxCH;IA0CH;EAQJ,CAxDQ,EAwDP,EAxDO,CAAT;EA2DJ,oBACI,qCADJ;AAIC;;GAtEQP,iB;UAIQH,S,EACID,U;;;KALZI,iB;AAwET,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}